<?php defined('SYSPATH') or die('No direct script access.');/** * @version SVN: $Id:$ */class Form_Filter_Product extends CM_Form_Abstract{	protected function init()	{		$this->add_plugin(new CM_Form_Plugin_ORM_Labels());		$this->add_plugin(new CM_Form_Plugin_ORM_Filter_Equals('category_id'));		$this->add_plugin(new CM_Form_Plugin_ORM_Filter_Equals('brand_id'));		$this->add_plugin(new CM_Form_Plugin_ORM_Filter_Equals('line_id'));		$this->add_plugin(new CM_Form_Plugin_ORM_Filter_Like('name'));		$this->add_plugin(new CM_Form_Plugin_ORM_Filter_Like('article'));		$model_categories = ORM::factory('Category')->order_by('id', 'ASC')->find_all();		$categories = ORM::factory('Category')->fetch_categories_list($model_categories);		$categories[''] = '--- Выберите категорию ---';		asort($categories);		$this->set_field('brand_id', new CM_Field_Select_ORM(ORM::factory('Brand')));		$this->set_field('category_id',  new CM_Field_Select_ORM(ORM::factory('Category')));		$this->set_field('line_id',  new CM_Field_Select_ORM(ORM::factory('Line')));		$this->set_field('name', new CM_Field_String());        $this->set_field('article', new CM_Field_String());		$this->set_method('get');	}}